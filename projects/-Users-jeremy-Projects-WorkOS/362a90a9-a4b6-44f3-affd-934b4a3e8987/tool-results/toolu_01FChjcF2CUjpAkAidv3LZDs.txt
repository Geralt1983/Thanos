/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:1:// Mock API layer for moves data
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:20:export interface Move {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:32:const moves: Move[] = [
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:133:  moves: {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:134:    async list(): Promise<Move[]> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:136:      return [...moves]
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:139:    async complete(id: string): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:141:      const move = moves.find((m) => m.id === id)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:142:      if (!move) throw new Error(`Move ${id} not found`)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:149:    async requeue(id: string, status: MoveStatus = "backlog"): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:151:      const move = moves.find((m) => m.id === id)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:152:      if (!move) throw new Error(`Move ${id} not found`)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:159:    async updateStatus(id: string, newStatus: MoveStatus): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:161:      const move = moves.find((m) => m.id === id)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:162:      if (!move) throw new Error(`Move ${id} not found`)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:170:      const otherMoves = moves.filter((m) => m.status !== status)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:172:        .map((id) => moves.find((m) => m.id === id && m.status === status))
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:173:        .filter((m): m is Move => m !== undefined)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:175:      moves.length = 0
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:176:      moves.push(...otherMoves, ...statusMoves)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:182:  moves: {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:183:    async list(): Promise<Move[]> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:185:      return result as Move[]
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:188:    async complete(id: string): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:189:      const result = await serverTasksApi.completeMove(id)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:190:      return result as Move
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:193:    async requeue(id: string, status: MoveStatus = "backlog"): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:194:      // Use demote endpoint for backlog, or updateMove for specific status
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:196:        const result = await serverTasksApi.demoteMove(id)
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:197:        return result as Move
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:199:      const result = await serverTasksApi.updateMove(id, { status })
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:200:      return result as Move
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:203:    async updateStatus(id: string, newStatus: MoveStatus): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:204:      const result = await serverTasksApi.updateMove(id, { status: newStatus })
/Users/jeremy/Projects/v0-work-os-3-0/lib/mock-api.ts:205:      return result as Move
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:1:// Server API wrapper for moves
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:7:export interface Move {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:20:const BASE = "/api/moves"
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:22:export async function listMoves(): Promise<Move[]> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:23:  return apiRequest<Move[]>(BASE)
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:26:export async function getMove(id: string): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:27:  return apiRequest<Move>(`${BASE}/${id}`)
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:30:export async function createMove(payload: Partial<Move>): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:31:  return apiRequest<Move>(BASE, {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:37:export async function updateMove(id: string, payload: Partial<Move>): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:38:  return apiRequest<Move>(`${BASE}/${id}`, {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:44:export async function deleteMove(id: string): Promise<void> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:50:export async function completeMove(id: string, effortActual?: number): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:51:  return apiRequest<Move>(`${BASE}/${id}/complete`, {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:57:export async function promoteMove(id: string): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:58:  return apiRequest<Move>(`${BASE}/${id}/promote`, {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:63:export async function demoteMove(id: string): Promise<Move> {
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-tasks-api.ts:64:  return apiRequest<Move>(`${BASE}/${id}/demote`, {
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:3:import { clientMemory, clients, moves } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:28:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:31:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:32:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, weekStart)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:33:      .groupBy(moves.clientId)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:39:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:40:        lastCompletion: sql<Date>`MAX(${moves.completedAt})`.as("lastCompletion"),
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:42:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:43:      .where(eq(moves.status, "done"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/client-memory/route.ts:44:      .groupBy(moves.clientId)
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-metrics.ts:54:export const trackCompletedMove = trackCompletedTask
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:57:export type Move = Task
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:554:    moves: tasks,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:578:    completeMove: completeTask,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:579:    restoreMove: restoreTask,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:582:    createMove: createTask,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:583:    updateMove: updateTask,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:584:    promoteMove: promoteTask,
/Users/jeremy/Projects/v0-work-os-3-0/hooks/use-tasks.ts:585:    deleteMove: deleteTask,
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:18:// TASKS (formerly moves)
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:48:export const moves = tasks
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:146:export const moveGraveyard = taskGraveyard
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:164:export const moveEvents = taskEvents
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:199:export type Move = Task // Legacy alias
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:208:export type GraveyardMove = GraveyardTask // Legacy alias
/Users/jeremy/Projects/v0-work-os-3-0/lib/schema.ts:230:export const movesRelations = tasksRelations
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-metrics-api.ts:16:  moves: number
/Users/jeremy/Projects/v0-work-os-3-0/lib/server-metrics-api.ts:22:  moves: number
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/route.ts:3:import { moves, clients } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/route.ts:10:    const allMoves = await db.select().from(moves).where(ne(moves.status, "done"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/auto-fix/route.ts:3:import { moves, clients } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/auto-fix/route.ts:19:        .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/auto-fix/route.ts:20:        .where(and(eq(moves.clientId, client.id), ne(moves.status, "done")))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/auto-fix/route.ts:29:        await db.update(moves).set({ status: "active", updatedAt: new Date() }).where(eq(moves.id, toPromote.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/triage/auto-fix/route.ts:40:        await db.update(moves).set({ status: "queued", updatedAt: new Date() }).where(eq(moves.id, toPromote.id))
/Users/jeremy/Projects/v0-work-os-3-0/lib/backlog-decay.ts:67:  // Move to graveyard
/Users/jeremy/Projects/v0-work-os-3-0/lib/ai/tools.ts:114:      description: "Move a task from backlog to queued, or from queued to active.",
/Users/jeremy/Projects/v0-work-os-3-0/lib/ai/tools.ts:129:      description: "Move a task from active to queued, or from queued to backlog.",
/Users/jeremy/Projects/v0-work-os-3-0/lib/ai/prompts.ts:34:5.  **Present 1 Option**: "Best Move: [Task Name] for [Client]. Why: It's high impact and fits your energy."
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/events/route.ts:16:    console.error("[api/moves/events] Error:", err)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/evening/route.ts:3:import { moves, clients, dailyLog } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/evening/route.ts:24:    // Get today's completed moves
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/evening/route.ts:27:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/evening/route.ts:28:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, today)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:3:import { moves, clients, clientMemory } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:28:    // Get all backlog moves grouped by client
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:31:        id: moves.id,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:32:        title: moves.title,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:33:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:34:        drainType: moves.drainType,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:35:        effortEstimate: moves.effortEstimate,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:36:        createdAt: moves.createdAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:37:        sortOrder: moves.sortOrder,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:41:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:42:      .leftJoin(clients, eq(moves.clientId, clients.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:43:      .where(eq(moves.status, "backlog"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:44:      .orderBy(asc(moves.sortOrder))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:61:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:62:      .leftJoin(clients, eq(moves.clientId, clients.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/grouped/route.ts:63:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, todayStart)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:3:import { moves, clients } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:14:        id: moves.id,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:15:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:16:        title: moves.title,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:17:        description: moves.description,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:18:        status: moves.status,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:19:        effortEstimate: moves.effortEstimate,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:20:        effortActual: moves.effortActual,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:21:        drainType: moves.drainType,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:22:        sortOrder: moves.sortOrder,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:23:        subtasks: moves.subtasks,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:24:        createdAt: moves.createdAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:25:        updatedAt: moves.updatedAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:26:        completedAt: moves.completedAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:29:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:30:      .leftJoin(clients, eq(moves.clientId, clients.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:31:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:34:      return NextResponse.json({ error: "Move not found" }, { status: 404 })
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:52:    const [currentMove] = await db.select({ status: moves.status }).from(moves).where(eq(moves.id, moveId)).limit(1)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:59:    const [updated] = await db.update(moves).set(updateData).where(eq(moves.id, moveId)).returning()
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:62:      return NextResponse.json({ error: "Move not found" }, { status: 404 })
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:65:    if (body.status && currentMove && body.status !== currentMove.status) {
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:66:      const eventType = determineEventType(currentMove.status, body.status)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:70:        fromStatus: currentMove.status,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:95:      .delete(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:96:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/route.ts:100:      return NextResponse.json({ error: "Move not found" }, { status: 404 })
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:3:import { moves } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:15:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:16:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:18:      return NextResponse.json({ error: "Move not found" }, { status: 404 })
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:28:      .update(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/promote/route.ts:33:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:3:import { moves, clients, clientMemory } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:6:interface ScoredMove {
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:41:    // Get all backlog moves with client info
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:44:        id: moves.id,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:45:        title: moves.title,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:46:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:47:        drainType: moves.drainType,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:48:        effortEstimate: moves.effortEstimate,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:49:        createdAt: moves.createdAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:50:        backlogEnteredAt: moves.backlogEnteredAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:54:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:55:      .leftJoin(clients, eq(moves.clientId, clients.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:56:      .where(eq(moves.status, "backlog"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:63:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:64:        lastCompletion: sql<Date>`MAX(${moves.completedAt})`.as("lastCompletion"),
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:66:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:67:      .where(eq(moves.status, "done"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:68:      .groupBy(moves.clientId)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:74:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:77:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:78:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, weekStart)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:79:      .groupBy(moves.clientId)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:85:        drainType: moves.drainType,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:87:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:88:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, todayStart)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:95:        clientId: moves.clientId,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:98:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:99:      .leftJoin(clients, eq(moves.clientId, clients.id))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:100:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, todayStart)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:108:    const scored: ScoredMove[] = backlogMoves.map((move) => {
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:157:        reasons.push(`${clientName} has 0 moves this week`)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/backlog/recommendations/route.ts:215:    const recommendations: ScoredMove[] = []
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:3:import { moves } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:15:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:16:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:18:      return NextResponse.json({ error: "Move not found" }, { status: 404 })
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:28:      .update(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/[id]/demote/route.ts:33:      .where(eq(moves.id, Number.parseInt(id, 10)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/heatmap/route.ts:3:import { moves } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/heatmap/route.ts:22:        completedAt: moves.completedAt,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/heatmap/route.ts:23:        effortEstimate: moves.effortEstimate,
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/heatmap/route.ts:25:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/tasks/heatmap/route.ts:26:      .where(eq(moves.status, "done"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:3:import { moves, clients } from "@/lib/schema"
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:19:    // Get this week's completed moves
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:22:      .from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:23:      .where(and(eq(moves.status, "done"), gte(moves.completedAt, startOfWeek)))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:34:    // Get active moves count
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:35:    const activeMoves = await db.select().from(moves).where(eq(moves.status, "active"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:37:    const queuedMoves = await db.select().from(moves).where(eq(moves.status, "queued"))
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:44:    const allMoves = await db.select().from(moves)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:49:      const lastMove = clientMoves.sort((a, b) => (b.completedAt?.getTime() || 0) - (a.completedAt?.getTime() || 0))[0]
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:50:      return !lastMove.completedAt || lastMove.completedAt < threeDaysAgo
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:75:    // Recent successes (moves completed in last 2 days)
/Users/jeremy/Projects/v0-work-os-3-0/app/api/notifications/morning/route.ts:81:      message += `\nRecent Wins (${recentMoves.length} moves):\n`